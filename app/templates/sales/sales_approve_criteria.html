{% extends 'base.html' %}

{% block content %}
<div class="p-4 bg-white shadow rounded" x-data="{ showRules: false }">
    <h2 class="text-xl font-semibold mb-2">📝 Reglas de Aprobación Automática de Pedidos</h2>
    <button class="bg-blue-600 text-white px-3 py-1 rounded" @click="showRules = !showRules">
      <span x-show="!showRules">Ver Reglas</span>
      <span x-show="showRules">Ocultar Reglas</span>
    </button>
  
    <div x-show="showRules" class="mt-3 space-y-4">
      <div class="border-l-4 border-green-600 pl-2">
        <h3 class="font-semibold text-green-600">✅ Criterio Principal: Método de Pago</h3>
        <ul class="list-disc ml-4 text-sm">
          <li><strong>Pago confirmado</strong> (transferencia confirmada, tarjeta de crédito aprobada): Aprobación Automática</li>
          <li><strong>Pago parcial ≥ 50%</strong>: Aprobación Automática</li>
          <li><strong>Pago parcial &lt; 50%</strong>: Pendiente de Revisión Manual (Prioridad Alta)</li>
          <li><strong>Pago pendiente / por verificar</strong>: Pendiente de Revisión Manual</li>
        </ul>
      </div>
  
      <div class="border-l-4 border-yellow-600 pl-2">
        <h3 class="font-semibold text-yellow-600">✅ Criterio Secundario: Historial de Pagos del Cliente</h3>
        <ul class="list-disc ml-4 text-sm">
          <li><strong>Cliente con historial excelente</strong>: Aprobación Automática</li>
          <li><strong>Cliente con problemas recientes</strong>: Rechazo Automático o Pendiente</li>
          <li><strong>Cliente nuevo o historial bueno</strong>: Pendiente de Revisión Manual</li>
        </ul>
      </div>
  
      <div class="border-l-4 border-purple-600 pl-2">
        <h3 class="font-semibold text-purple-600">✅ Criterio Terciario: Monto del Pedido</h3>
        <ul class="list-disc ml-4 text-sm">
          <li><strong>Monto bajo (&lt; $200 USD)</strong>: Aprobación Automática</li>
          <li><strong>Monto alto (&gt; $200 USD)</strong>: Pendiente de Revisión Manual</li>
        </ul>
      </div>
  
      <div class="border-l-4 border-gray-400 pl-2">
        <h3 class="font-semibold text-gray-600">💡 Flujo de Decisión:</h3>
        <ol class="list-decimal ml-4 text-sm">
          <li>¿Pago 100% confirmado? → Aprobado Automáticamente</li>
          <li>¿Pago parcial ≥ 50%? → Aprobado Automáticamente</li>
          <li>¿Pago parcial menor? → Pendiente de Revisión Manual</li>
          <li>¿Cliente con historial excelente? → Aprobado Automáticamente</li>
          <li>¿Cliente con problemas? → Rechazado o Pendiente</li>
          <li>¿Cliente nuevo o historial bueno? → Pendiente de Revisión Manual</li>
          <li>¿Monto bajo? → Aprobación Automática</li>
          <li>¿Monto alto? → Pendiente de Revisión Manual</li>
        </ol>
      </div>
    </div>
  </div>
  {%endblock %}