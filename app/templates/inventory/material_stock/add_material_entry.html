{% from 'macros.html' import cardContainer, tableHover, render_errors, render_input_float, render_input %}

{% extends 'base.html' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<section id="header">
    {% include '__title.html' %}
</section>

<section>
    <form id="materialEntryForm" action="" method="post" novalidate x-data="materialForm()" x-init='init({{form.items.data|tojson}},{{form.items.errors|tojson}})'>
        {{ form.hidden_tag() }}
        {{ render_input_float(form.date, value=today) }}
        {{ render_input_float(form.movement_trigger, class='form-select') }}
        {{ render_input_float(form.document) }}
        {{ render_input_float(form.warehouse, class='form-select') }}
        {{ render_input_float(form.responsible, class='form-select') }}
        
        

        <h3 class="mt-3">Lista de materiales</h3>
        {% include 'inventory/material_stock/__materialListForm.html' %}

        <button type="button" class="btn btn-secondary mt-3" @click="addItem">Agregar Material</button>
        {{ form.submit(class='btn btn-dark mt-3') }}
    </form>
</section>

<script src="{{ url_for('static', filename='js/materials.js') }}"></script>

{% endblock %}
