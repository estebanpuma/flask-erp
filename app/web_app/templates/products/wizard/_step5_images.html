<!-- templates/products/wizard/_step5_images.html -->
<div x-data="imageUploader({
        module: 'designs',
        modelId: createdProduct.design_id,
        onUploadComplete: (uploadedFiles) => {
            console.log('Archivos subidos:', uploadedFiles);
            productData.designs[0].images = productData.designs[0].images.concat(uploadedFiles);
        }
    })">

    <div class="card shadow-sm">
        <div class="card-body">
            <h5 class="card-title text-center mb-4">游닞 Im치genes del Dise침o</h5>

            <div class="alert alert-success">
                춰Producto y dise침o creados con 칠xito! Ahora puedes a침adir las im치genes.
            </div>

            <!-- Componente de carga -->
            <div class="mb-3">
                <label for="file-input" class="form-label">Selecciona una o m치s im치genes</label>
                <input type="file" id="file-input" @change="handleFileSelect" class="form-control" multiple>
            </div>

            <!-- Previsualizaci칩n y subida -->
            <div x-show="filesToUpload.length > 0" class="mt-3">
                <h6>Im치genes para subir:</h6>
                <ul class="list-group">
                    <template x-for="(file, index) in filesToUpload" :key="index">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span x-text="file.name"></span>
                            <button class="btn btn-sm btn-outline-danger" @click="removeFile(index)">Quitar</button>
                        </li>
                    </template>
                </ul>
                <button @click="uploadFiles" class="btn btn-primary mt-3" :disabled="isUploading">
                    <span x-show="isUploading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                    <span x-text="isUploading ? 'Subiendo...' : 'Subir im치genes'"></span>
                </button>
            </div>

            <!-- Navegaci칩n -->
            <div class="d-flex justify-content-end mt-4">
                <a href="/products" class="btn btn-success">Finalizar y ver productos</a>
            </div>
        </div>
    </div>
</div>
