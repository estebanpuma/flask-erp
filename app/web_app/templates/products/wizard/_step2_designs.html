<div>

  <!-- Instrucci√≥n -->
  <div class="mb-3">
    <p>Selecciona uno o m√°s colores para el dise√±o de este producto. El orden en que los selecciones definir√° el c√≥digo del dise√±o.</p>
  </div>

  <!-- Selector de colores -->
  <div class="mb-3">
    <label class="form-label">Colores disponibles:</label>
    <div class="d-flex flex-wrap gap-2">
      <template x-for="color in availableColors" :key="color.id">
        <button type="button"
                class="btn btn-outline-dark btn-sm"
                :class="{'active': isColorSelected(color.id)}"
                @click="toggleColor(color)">
          <span x-text="`${color.name} (${color.code})`"></span>
        </button>
      </template>
    </div>
  </div>

   <!-- Mensaje de error si el dise√±o ya existe -->
  <template x-if="error">
    <div class="alert alert-danger" x-text="error"></div>
  </template>

  <!-- Colores seleccionados (en orden) -->
  <div class="mt-4">
    <h6 class="mb-2">üé® Colores seleccionados:</h6>
    <template x-if="selectedColors.length === 0">
      <p class="text-muted">No has seleccionado ning√∫n color a√∫n.</p>
    </template>

    <ul class="list-group">
      <template x-for="(color, index) in selectedColors" :key="color.id">
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span>
            <strong x-text="`${index + 1}. ${color.name} (${color.code})`"></strong>
          </span>
          <button class="btn btn-sm btn-outline-danger" @click="removeColor(color)">
            <i class="bi bi-x"></i>
          </button>
        </li>
      </template>
    </ul>
  </div>

  <!-- Vista previa del c√≥digo del dise√±o -->
  <div class="alert alert-dark mt-4" x-show="selectedColors.length > 0">
    C√≥digo del dise√±o: <strong x-text="productData.code + getDesignSuffix()"></strong>
  </div>

  <!-- Acciones -->
  <div class="d-flex justify-content-between mt-4">
    <button class="btn btn-outline-secondary" @click="prevStep">‚Üê Atr√°s</button>
    <button class="btn btn-dark" @click="nextStep" :disabled="isDuplicateDesign || selectedColors.length<1" >Siguiente ‚Üí</button>
  </div>
</div>
