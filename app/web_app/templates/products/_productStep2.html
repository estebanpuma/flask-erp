<!-- Vista Step 2 -->
<div class="container mt-4 pb-5" x-data="step2DesignSelector()" x-init="init()">

  <!-- Encabezado -->
  <div x-data="{ href: '/products/create/step1', title: 'üé® Selecci√≥n de colores (Step 2)' }">
    {% include 'components/_pageHeader.html' %}
  </div>

  <!-- Listado de colores disponibles -->
  <div class="mb-3">
    <label class="form-label">Colores disponibles:</label>
    <div class="d-flex flex-wrap gap-2">
      <template x-for="color in availableColors" :key="color.id">
        <button type="button"
                class="btn btn-outline-dark btn-sm"
                :class="{'active': isSelected(color.id)}"
                @click="toggleColor(color)">
          <span x-text="`${color.name} (${color.code})`"></span>
        </button>
      </template>
    </div>
  </div>

  <!-- Dise√±os generados -->
  <div class="mt-4">
    <h6 class="mb-2">Dise√±os seleccionados:</h6>
    <ul class="list-group">
      <template x-for="color in selectedColors" :key="color.id">
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span>
            <strong x-text="`${productData.base_code}${color.code}`"></strong> ‚Äî <span x-text="color.name"></span>
          </span>
          <button class="btn btn-sm btn-outline-danger" @click="removeColor(color)">
            <i class="bi bi-x"></i>
          </button>
        </li>
      </template>
    </ul>
  </div>

  <!-- Acciones -->
  <div class="d-flex justify-content-between mt-4">
    <a href="/products/create/step1" class="btn btn-outline-secondary">‚Üê Atr√°s</a>
    <button class="btn btn-dark" @click="goToNextStep">Continuar ‚Üí</button>
  </div>
</div>
